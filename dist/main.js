!function(t,e){for(var a in e)t[a]=e[a]}(window,function(t){var e={};function a(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=t,a.c=e,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=4)}([function(t,e,a){var r=a(1);"string"==typeof r&&(r=[[t.i,r,""]]);var n={insert:"head",singleton:!1};a(3)(r,n);r.locals&&(t.exports=r.locals)},function(t,e,a){(e=t.exports=a(2)(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css?family=Cabin&display=swap);",""]),e.push([t.i,'.dora {\r\n  font-family: \'Cabin\', sans-serif;\r\n  width: fit-content;\r\n  color: rgba(102, 122, 138);\r\n  background-color: rgb(245, 245, 245);\r\n  cursor: pointer;\r\n  font-size: 1.2rem;\r\n  position: relative;\r\n  border: 1px solid rgba(102, 122, 138);\r\n}\r\n\r\n.dora__activator {\r\n  padding: 12px 48px 12px 48px;\r\n  width: 204px;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  border-radius: 4px 4px 0 0;\r\n}\r\n.dora__activator:hover {\r\n  white-space: normal;\r\n}\r\n\r\n.activator__reset {\r\n  position: absolute;\r\n  top: 6px;\r\n  right: 14px;\r\n  padding: 20px;\r\n  background-size: 30%;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n}\r\n.activator__reset-arrow { background-image: url("https://image.flaticon.com/icons/svg/32/32195.svg"); }\r\n.activator__reset-clear { background-image: url("https://image.flaticon.com/icons/svg/32/32178.svg"); }\r\n\r\n.activator__search {\r\n  display: flex;\r\n  position: absolute;\r\n  width: 0;\r\n  top: 4px;\r\n  left: 8px;\r\n}\r\n.activator__search__icon {\r\n  background-image: url("https://image.flaticon.com/icons/png/512/751/751463.png");\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  padding: 20px 14px;\r\n  margin-right: 8px;\r\n  border: 1px solid transparent;\r\n  display: inline;\r\n}\r\n.activator__search__icon:hover {\r\n  border: 1px solid grey;\r\n  border-radius: 10px;\r\n}\r\n\r\n.activator__search__input {\r\n  opacity: .8;\r\n  height: 30px;\r\n  position: relative;\r\n  top: 34px;\r\n  left: -40px;\r\n}\r\n\r\n.dora__data {\r\n  width: 300px;\r\n  border-radius: 0 0 5px 5px;\r\n  overflow: auto;\r\n}\r\n.dora__data__absolute {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  background-color: rgb(245, 245, 245);\r\n  border-top: 1px solid rgba(102, 122, 138);\r\n}\r\n\r\n.dora__data__list {\r\n  margin: 0;\r\n  padding: 0;\r\n  list-style-type: none;\r\n  color: rgba(102, 122, 138);\r\n  border-top: none;\r\n  overflow: auto;\r\n  max-height: 265px;\r\n}\r\n\r\n.dora__form {\r\n  margin: 0;\r\n}\r\n.dora__form__input {\r\n  text-indent: 0;\r\n  font-size: 16px;\r\n  font-family: \'Cabin\', sans-serif;\r\n  color: rgba(102, 122, 138);\r\n  padding: 8px 4px 8px 24px;\r\n  margin: 8px 24px;\r\n  width: 83%;\r\n}\r\n\r\n.dora__data__list__element {\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  padding: 12px 24px;\r\n  font-size: 1.1rem;\r\n}\r\n.dora__data__list__element:hover {\r\n  direction: rtl;\r\n}\r\n\r\n.dora__data__list__element:hover {\r\n  background-color: rgba(102, 122, 138, .5);\r\n  color: rgb(245, 245, 245);\r\n}\r\n.dora__data__list__element:focus {\r\n  outline: 5px auto rgba(102, 122, 138);\r\n}\r\n\r\n.dora__data__element__selected {\r\n  background-color: rgba(102, 122, 138, 0.75);\r\n  color: rgb(245, 245, 245);\r\n  border-left: none;\r\n  border-right: none;\r\n}\r\n\r\n.activator__selected__element {\r\n  overflow: hidden;\r\n  display: inline-block;\r\n  text-overflow: ellipsis;\r\n  width: 50px;\r\n  max-height: 50px;\r\n  border-radius: 2px;\r\n  padding: 1px;\r\n  margin-right: 4px;\r\n  border-bottom: 1px dashed rgba(102, 122, 138);\r\n}\r\n.activator__selected__element__single {\r\n  overflow: hidden;\r\n  display: inline-block;\r\n  text-overflow: ellipsis;\r\n  width: 100%;\r\n  max-height: 50px;\r\n  border-radius: 2px;\r\n  padding: 1px;\r\n  margin-right: 4px;\r\n  border-bottom: 1px dashed rgba(102, 122, 138);\r\n}\r\n.activator__selected__element:hover,\r\n.activator__selected__element--keydown {\r\n  background-color: rgba(139, 168, 190, 0.75);\r\n  color: rgb(245, 245, 245);\r\n}\r\n\r\n.dora__loadmore {\r\n  padding: 8px 8px 8px 24px;\r\n  color: rgba(102, 122, 138);\r\n  background-color: rgba(102, 122, 138, 0.1);\r\n}\r\n.dora__loadmore:hover {\r\n  background-color: rgba(102, 122, 138, 0.5);\r\n  color: rgb(245, 245, 245);\r\n}',""])},function(t,e,a){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var a=function(t,e){var a=t[1]||"",r=t[3];if(!r)return a;if(e&&"function"==typeof btoa){var n=(o=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),i=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot).concat(t," */")}));return[a].concat(i).concat([n]).join("\n")}var o,s,c;return[a].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(a,"}"):a})).join("")},e.i=function(t,a){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},n=0;n<this.length;n++){var i=this[n][0];null!=i&&(r[i]=!0)}for(var o=0;o<t.length;o++){var s=t[o];null!=s[0]&&r[s[0]]||(a&&!s[2]?s[2]=a:a&&(s[2]="(".concat(s[2],") and (").concat(a,")")),e.push(s))}},e}},function(t,e,a){"use strict";var r,n={},i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var a=document.querySelector(e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(t){a=null}t[e]=a}return t[e]}}();function s(t,e){for(var a=[],r={},n=0;n<t.length;n++){var i=t[n],o=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[o]?r[o].parts.push(s):a.push(r[o]={id:o,parts:[s]})}return a}function c(t,e){for(var a=0;a<t.length;a++){var r=t[a],i=n[r.id],o=0;if(i){for(i.refs++;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(h(r.parts[o],e))}else{for(var s=[];o<r.parts.length;o++)s.push(h(r.parts[o],e));n[r.id]={id:r.id,refs:1,parts:s}}}}function l(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var r=a.nc;r&&(t.attributes.nonce=r)}if(Object.keys(t.attributes).forEach((function(a){e.setAttribute(a,t.attributes[a])})),"function"==typeof t.insert)t.insert(e);else{var n=o(t.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(e)}return e}var d,p=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join("\n")});function u(t,e,a,r){var n=a?"":r.css;if(t.styleSheet)t.styleSheet.cssText=p(e,n);else{var i=document.createTextNode(n),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(i,o[e]):t.appendChild(i)}}function f(t,e,a){var r=a.css,n=a.media,i=a.sourceMap;if(n&&t.setAttribute("media",n),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var m=null,v=0;function h(t,e){var a,r,n;if(e.singleton){var i=v++;a=m||(m=l(e)),r=u.bind(null,a,i,!1),n=u.bind(null,a,i,!0)}else a=l(e),r=f.bind(null,a,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(a)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i());var a=s(t,e);return c(a,e),function(t){for(var r=[],i=0;i<a.length;i++){var o=a[i],l=n[o.id];l&&(l.refs--,r.push(l))}t&&c(s(t,e),e);for(var d=0;d<r.length;d++){var p=r[d];if(0===p.refs){for(var u=0;u<p.parts.length;u++)p.parts[u]();delete n[p.id]}}}}},function(t,e,a){"use strict";function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.r(e);var i={title:"Select",dataURL:"",activatorSearch:!0,data:[],dataOverActivator:!1,dataListInput:!1,multiple:!1,limit:5,classes:{dora:"dora",activator:"dora__activator",data:"dora__data",dataAbsolute:"dora__data__absolute",dataList:"dora__data__list",dataListEmpty:"dora__nodata",dataListElement:"dora__data__list__element",dataListElementSelected:"dora__data__element__selected",activatorReset:"activator__reset",activatorArrow:"activator__reset-arrow",activatorClear:"activator__reset-clear",activatorSearch:"activator__search",activatorSearchIcon:"activator__search__icon",activatorSearchInput:"activator__search__input",activatorSelectedElement:"activator__selected__element",activatorSelectedElementSingle:"activator__selected__element__single",loadmore:"dora__loadmore"}},o=function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},i);return"string"==typeof t.title&&(e.title=t.title),"string"==typeof t.dataURL&&(e.dataURL=t.dataURL),"boolean"==typeof t.activatorSearch&&(e.activatorSearch=t.activatorSearch),Array.isArray(t.data)&&(e.data=t.data),"boolean"==typeof t.dataOverActivator&&(e.dataOverActivator=t.dataOverActivator),"boolean"==typeof t.multiple&&(e.multiple=t.multiple),"number"==typeof t.limit&&(e.limit=t.limit),"boolean"==typeof t.dataListInput&&(e.dataListInput=t.dataListInput),t.classes&&("string"==typeof t.classes.dora&&(e.classes.dora=t.classes.dora),"string"==typeof t.classes.activator&&(e.classes.activator=t.classes.activator),"string"==typeof t.classes.data&&(e.classes.data=t.classes.data),"string"==typeof t.classes.dataAbsolute&&(e.classes.dataAbsolute=t.classes.dataAbsolute),"string"==typeof t.classes.dataList&&(e.classes.dataList=t.classes.dataList),"string"==typeof t.classes.dataListEmpty&&(e.classes.dataListEmpty=t.classes.dataListEmpty),"string"==typeof t.classes.dataListElement&&(e.classes.dataListElement=t.classes.dataListElement),"string"==typeof t.classes.dataListElementSelected&&(e.classes.dataListElementSelected=t.classes.dataListElementSelected),"string"==typeof t.classes.activatorReset&&(e.classes.activatorReset=t.classes.activatorReset),"string"==typeof t.classes.activatorArrow&&(e.classes.activatorArrow=t.classes.activatorArrow),"string"==typeof t.classes.activatorClear&&(e.classes.activatorClear=t.classes.activatorClear),"string"==typeof t.classes.activatorSearch&&(e.classes.activatorSearch=t.classes.activatorSearch),"string"==typeof t.classes.activatorSearchIcon&&(e.classes.activatorSearchIcon=t.classes.activatorSearchIcon),"string"==typeof t.classes.activatorSearchInput&&(e.classes.activatorSearchInput=t.classes.activatorSearchInput),"string"==typeof t.classes.activatorSelectedElement&&(e.classes.activatorSelectedElement=t.classes.activatorSelectedElement),"string"==typeof t.classes.activatorSelectedElementSingle&&(e.classes.activatorSelectedElementSingle=t.classes.activatorSelectedElementSingle),"string"==typeof t.classes.loadmore&&(e.classes.loadmore=t.classes.loadmore)),e},s=function(t){var e=t.title,a=t.classes,r=t.onClick,n=t.search,i=document.createElement("div");return i.className=a.activator,n||(i.style.paddingLeft="24px"),i.appendChild(document.createTextNode(e)),i.addEventListener("click",r),i},c=function(t){var e=t.onClick,a=t.classes,r=document.createElement("div");return r.classList.add(a.activatorReset),r.classList.add(a.activatorArrow),r.addEventListener("click",e),r},l=function(t){var e=t.classes,a=document.createElement("div");a.className=e.activatorSearch;var r=document.createElement("div");r.className=e.activatorSearchIcon;var n=document.createElement("input");return n.style.display="none",n.className=e.activatorSearchInput,r.addEventListener("click",(function(){"none"===n.style.display?n.style.display="block":n.style.display="none"})),a.appendChild(r),a.appendChild(n),a},d=function(t){var e=t.classes,a=t.position,r=document.createElement("div");return r.className=a?"".concat(e.data," ").concat(e.dataAbsolute):e.data,r.style.display="none",r},p=function(t){var e=t.onSubmit,a=document.createElement("form"),r=document.createElement("input");return a.className="dora__form",r.placeholder="Type here...",r.className="dora__form__input",a.style.display="none",a.appendChild(r),a.addEventListener("submit",(function(t){t.preventDefault(),""!==r.value&&e&&e(r.value)})),a},u=function(t){var e=t.classes,a=document.createElement("div");return a.className=e.loadmore,a.tabIndex="0",a.appendChild(document.createTextNode("Load more...")),a};function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var m=function(t,e,a,r){var n="";if("string"==typeof a[0]&&""!==a[0]){a.length<=e&&(e=a.length);for(var i=t;i<e;i++){if("string"!=typeof a[i]||""===a[i])throw"Invalid data fetched";n+='<li tabindex="0" class=\''.concat(r.dataListElement,"' data-value=\"").concat(a[i],'">').concat(a[i],"</li>")}}else{if("object"!==f(a[0]))throw"Data must be an array of strings, or objects with keys 'display' and 'value', where display should be string or number";if(a.length<=e)for(var o=t;o<a.length;o++){if(!("object"===f(a[o])&&"value"in a[o]&&"display"in a[o])||"string"!=typeof a[o].display&&"number"!=typeof a[o].display||""===a[o].display||Array.isArray(a[o]))throw"Invalid data fetched";n+='<li tabindex="0" class=\''.concat(r.dataListElement,"' data-value=\"").concat(a[o].value,'">').concat(a[o].display,"</li>")}else for(var s=t;s<e;s++){if(!("object"===f(a[s])&&"value"in a[s]&&"display"in a[s])||"string"!=typeof a[s].display&&"number"!=typeof a[s].display||""===a[s].display||Array.isArray(a[s]))throw"Invalid data fetched";n+='<li tabindex="0" class=\''.concat(r.dataListElement,"' data-value=\"").concat(a[s].value,'">').concat(a[s].display,"</li>")}}return n};function v(t){var e,a=t.target,r=t.data,n=t.activator,i=t.multiple,o=t.selectedElements,s=t.onClick,c=t.resetActivator,l=t.title,d=t.classes;e="string"==typeof r[0]?r.filter((function(t){return t===a.dataset.value}))[0]:r.filter((function(t){return t.value===a.dataset.value}))[0],n.innerHTML="",void 0!==e&&(i?o.has(e)?(a.classList.remove(d.dataListElementSelected),o.delete(e)):(a.classList.add(d.dataListElementSelected),o.add(e)):(0===o.size?o.add(e):(o.clear(),o.add(e)),s&&s(e))),o.size>0?(c.classList.remove(d.activatorArrow),c.classList.add(d.activatorClear),o.forEach((function(t){n.innerHTML+=i?"string"==typeof t?'<span class="'.concat(d.activatorSelectedElement,'">').concat(t,"</span> "):'<span class="'.concat(d.activatorSelectedElement,'">').concat(t.display,"</span> "):"string"==typeof t?'<span class="'.concat(d.activatorSelectedElementSingle,'">').concat(t,"</span> "):'<span class="'.concat(d.activatorSelectedElementSingle,'">').concat(t.display,"</span> ")}))):(c.classList.remove(d.activatorClear),c.classList.add(d.activatorArrow),n.innerHTML+=l)}function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function g(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function y(){this.defaults={success:function(){},error:function(t){return alert("Error: ".concat(t.status,": ").concat(t.statusText))},responseType:"json"}}y.prototype.get=function(t,e){var a=this;return new Promise((function(r,n){b("GET",t,a.defaults,e,r,n,null)}))},y.prototype.post=function(t,e,a){var r=this;return new Promise((function(n,i){b("POST",t,r.defaults,a,n,i,JSON.stringify(e))}))},y.prototype.put=function(t,e,a){var r=this;return new Promise((function(n,i){b("PUT",t,r.defaults,a,n,i,JSON.stringify(e))}))},y.prototype.remove=function(t,e){var a=this;return new Promise((function(r,n){b("DELETE",t,a.defaults,e,r,n,null)}))};var b=function(t,e,a,r,n,i,o){var s=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){g(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},a,{},r),c=new XMLHttpRequest;c.responseType=s.responseType;var l="";(s.params&&Object.keys(s.params).forEach((function(t){return l+="".concat(t,"=").concat(s.params[t],"&")})),l=l.replace(/&+$/,""),c.open(t,"".concat(e,"?").concat(l)),s.headers)?Object.keys(s.headers).forEach((function(t){c.setRequestHeader(t,s.headers[t])})):c.setRequestHeader("Content-type","application/json");c.onreadystatechange=function(){!function(t,e,a,r,n,i,o){t===XMLHttpRequest.DONE&&(e>=400?function(t,e,a){a(t),e.error()}(a,o,i):function(t,e,a){a(t),e.success()}(r,o,n))}(c.readyState,c.status,c.statusText,c.response,n,i,s)},o?c.send(o):c.send()};var _=y;function L(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var S=function(t){var e,a=t.title,r=t.data,n=t.dataURL,i=t.limit,o=t.selectedElements,s=t.classes,c=t.multiple,l=t.activator,d=t.onClick,p=t.resetActivator,u=t.loadmore,f=t.fixdata,h=t.search,g=(t.dataListVisible,h);if(r.length>0&&""===n){var y=document.createElement("ul");y.className=s.dataList,y.innerHTML+=m(0,i,r,s,f),r.length>i&&y.appendChild(u),g&&g.children[1].addEventListener("input",(function(t){if(""===t.target.value)y.innerHTML=m(0,r.length,r,s);else{var e=[];r.forEach((function(a){"object"===E(r[0])?a.display.indexOf(t.target.value)>=0&&e.push(a):a.indexOf(t.target.value)>=0&&e.push(a)})),0===e.length?y.innerHTML="":y.innerHTML=m(0,r.length,e,s)}var a=Array.from(o),n=[];a.forEach((function(t){"string"==typeof t?n.push(t):n.push(t.value)})),Array.from(y.children)&&n.length>0&&Array.from(y.children).forEach((function(t){n.includes(t.dataset.value)&&!t.classList.contains(s.dataListElementSelected)&&t.classList.add(s.dataListElementSelected)}))})),e=y}else if(""!==n){var b=document.createElement("ul");b.className=s.dataList,(new _).get(n,{params:{_start:0,_limit:i}}).then((function(t){"display"in t[0]&&"value"in t[0]?r=t:(f&&(t=f(t)),r=t),r=t,b.innerHTML+=m(0,i,r,s),b.appendChild(u),g.children[1].addEventListener("input",(function(t){if(""===t.target.value)b.innerHTML=m(0,r.length,r,s),b.appendChild(u);else{var e=[];r.forEach((function(a){a.display.indexOf(t.target.value)>=0&&e.push(a)})),0===e.length?b.innerHTML="":b.innerHTML=m(0,r.length,e,s)}var a=L(o),n=[];a.forEach((function(t){return n.push(t.value)})),Array.from(b.children)&&n.length>0&&Array.from(b.children).forEach((function(t){n.includes(t.dataset.value)&&!t.classList.contains(s.dataListElementSelected)&&t.classList.add(s.dataListElementSelected)}))}))})).catch((function(t){return console.log(t)})),e=b}else{var S=document.createElement("div");S.className="dora__nodata",S.innerHTML="No data available",e=S}return e.addEventListener("mousedown",(function(t){if(t.target!==u&&t.target!==e)v({target:t.target,loadmore:u,element:e,data:r,activator:l,multiple:c,selectedElements:o,onClick:d,classes:s,resetActivator:p,title:a});else if(t.target!==e){if(u.innerHTML="Loading...",""!==n)(new _).get(n,{params:{_start:e.children.length,_limit:i}}).then((function(t){e.removeChild(u),f&&(t=f(t)),w({data:r=r.concat(t),element:e,loadmore:u,res:t,classes:s,limit:i})})).catch((function(t){return console.error(t)}));else e.children.length<r.length&&x({element:e,limit:i,loadmore:u,data:r,classes:s})}})),e.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:if(document.activeElement!==u&&document.activeElement!==e)v({target:document.activeElement,loadmore:u,element:e,data:r,activator:l,multiple:c,selectedElements:o,onClick:d,classes:s,resetActivator:p,title:a});else if(document.activeElement===u)if(u.innerHTML="Loading...",""!==n){var m=e.children.length;(new _).get(n,{params:{_start:e.children.length,_limit:i}}).then((function(t){e.removeChild(u),f&&(t=f(t)),w({data:r=r.concat(t),element:e,loadmore:u,res:t,classes:s,limit:i}),Array.from(e.children)[m].focus()})).catch((function(t){return console.error(t)}))}else e.children.length<r.length&&x({element:e,limit:i,loadmore:u,data:r,classes:s})}})),e};function w(t){for(var e=t.data,a=t.element,r=t.loadmore,n=t.res,i=t.classes,o=t.limit,s=a.children.length;s<e.length;s++)a.innerHTML+='<li tabindex="0" class=\''.concat(i.dataListElement,"' data-value=\"").concat(e[s].value,'">').concat(e[s].display,"</li>");n.length===o&&(r.innerHTML="Load more...",a.appendChild(r))}function x(t){var e=t.element,a=t.limit,r=t.loadmore,n=t.data,i=t.classes;e.children.length+a<n.length?(e.removeChild(r),newlimit=e.children.length+a,e.innerHTML+=m(e.children.length,newlimit,n,i),e.appendChild(r),r.innerHTML="Load more..."):(e.removeChild(r),newlimit=n.length,e.innerHTML+=m(e.children.length,newlimit,n,i))}var O=function(){this.activator=s({title:this.options.title,classes:this.options.classes,onClick:this.onActivatorClick,search:this.options.activatorSearch}),this.resetActivator=c({onClick:this.onResetClick,classes:this.options.classes}),this.options.dataListInput&&(this.dataListForm=p({onSubmit:this.customUserHandlers.onDataFormSubmit})),this.data=d({classes:this.options.classes,position:this.options.dataOverActivator}),this.loadmore=u({classes:this.options.classes,datalist:this.dataList,data:this.options.data,limit:this.options.limit}),this.options.activatorSearch&&(this.activatorSearch=l({classes:this.options.classes})),this.dataList=S({title:this.options.title,data:this.options.data,dataURL:this.options.dataURL,limit:this.options.limit,selectedElements:this.selectedElements,classes:this.options.classes,multiple:this.options.multiple,activator:this.activator,onClick:this.customUserHandlers.listElementSelected,resetActivator:this.resetActivator,loadmore:this.loadmore,fixdata:this.customUserHandlers.fixdata,search:this.activatorSearch,dataListVisible:this.dataListVisible}),this.options.dataListInput&&this.data.appendChild(this.dataListForm),this.data.appendChild(this.dataList);var t=document.createElement("div");t.className=this.options.classes.dora,t.appendChild(this.activator),t.appendChild(this.resetActivator),this.options.activatorSearch&&t.appendChild(this.activatorSearch),t.appendChild(this.data),this.mountingPoint.appendChild(t),document.addEventListener("click",this.onBodyClick)};function C(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var A=function(){var t=this;document.addEventListener("keydown",(function(e){if(t.dataListVisible)switch(e.keyCode){case 40:!1===C(t.dataList.children).includes(document.activeElement)&&t.dataList.children[0].focus(),document.activeElement.nextSibling&&document.activeElement.nextSibling.focus();break;case 38:document.activeElement.previousSibling&&document.activeElement.previousSibling.focus();break;case 27:t.dataListVisible=!1,t.data.style.display="none"}}))};function k(t,e,a){var r=this;if(null===t&&void 0===t)throw"No mounting point set.";if(t.nodeType===Node.ELEMENT_NODE)this.mountingPoint=t;else{if("string"!=typeof t||!t.startsWith("#"))throw"Not a valid dom selected.";this.mountingPoint=document.querySelector(t)}this.options=o(e),this.customUserHandlers=a,this.dataListVisible=!1,this.selectedElements=new Set,this.onActivatorClick=function(t){r.customUserHandlers.userActivatorHandler(),r.dataListVisible?(r.data.style.display="none",r.dataListForm&&(r.dataListForm.style.display="none"),r.dataListVisible=!1):(r.data.style.display="block",r.dataListForm&&(r.dataListForm.style.display="block"),r.dataListVisible=!0)},this.onResetClick=function(t){r.selectedElements.clear(),Array.from(r.dataList.children).forEach((function(t){t.classList.contains(r.options.classes.dataListElementSelected)&&t.classList.remove(r.options.classes.dataListElementSelected)})),r.activator.innerHTML=r.options.title,r.resetActivator.classList.remove(r.options.classes.activatorClear),r.resetActivator.classList.add(r.options.classes.activatorArrow),r.dataListVisible||(console.log(r.data.style.display),r.data.style.display="block",r.dataListForm&&(r.dataListForm.style.display="block"),r.dataListVisible=!0)},this.onBodyClick=function(t){r.options.multiple?t.target.classList.contains(r.options.classes.activatorSelectedElement)?(r.data.style.display="block",r.dataListForm&&(r.dataListForm.style.display="block"),r.dataListVisible=!0,t.target.parentElement.removeChild(t.target),Array.from(r.dataList.children).find((function(e){e.innerHTML===t.target.innerHTML&&e.classList.remove(r.options.classes.dataListElementSelected)})),"string"==typeof r.selectedElements.values().next().value?r.selectedElements.delete(t.target.innerHTML):r.selectedElements.forEach((function(e){e.display===t.target.innerHTML&&r.selectedElements.delete(e)})),0===r.selectedElements.size&&(r.resetActivator.classList.remove(r.options.classes.activatorClear),r.resetActivator.classList.add(r.options.classes.activatorArrow),r.activator.innerHTML=r.options.title)):t.target===r.activator||t.target===r.dataList||Array.from(r.dataList.children).includes(t.target)||t.target===r.resetActivator||t.target===r.loadmore||t.target===r.activatorSearch.children[0]||t.target===r.activatorSearch.children[1]||r.dataListForm&&t.target!==r.dataListForm.children[0]&&(r.data.style.display="none",r.dataListVisible=!1):t.target!==r.activator&&t.target!==r.loadmore&&t.target!==r.resetActivator&&(r.data.style.display="none",r.dataListForm&&(r.dataListForm.style.display="none"),r.dataListVisible=!1)},this.renderComponent(),this.keyboardNavigation({classes:this.options.classes,multiple:this.options.multiple})}a.d(e,"Dora",(function(){return k})),a(0),k.prototype.renderComponent=O,k.prototype.keyboardNavigation=A}]));
//# sourceMappingURL=main.js.map